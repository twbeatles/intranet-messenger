============================= test session starts =============================
platform win32 -- Python 3.14.2, pytest-9.0.2, pluggy-1.6.0
rootdir: G:\다른 컴퓨터\내 컴퓨터\google antigravity\intranet-messenger-main
plugins: anyio-4.12.0, flask-1.3.0
collected 24 items

tests\test_admin_kick_protection.py ..                                   [  8%]
tests\test_admin_protection.py ....                                      [ 25%]
tests\test_authorization.py ...                                          [ 37%]
tests\test_basic.py ...                                                  [ 50%]
tests\test_kick_member.py ....                                           [ 66%]
tests\test_maintenance.py ..                                             [ 75%]
tests\test_polls.py ...                                                  [ 87%]
tests\test_user_deletion.py F..                                          [100%]

================================== FAILURES ===================================
_________________________ test_user_deletion_cleanup __________________________
tests\test_user_deletion.py:30: in test_user_deletion_cleanup
    assert response.status_code == 200
E   assert 400 == 200
E    +  where 400 = <WrapperTestResponse streamed [400 BAD REQUEST]>.status_code
------------------------------ Captured log call ------------------------------
ERROR    app.models:models.py:1975 회원 탈퇴 오류: FOREIGN KEY constraint failed
============================== warnings summary ===============================
tests/test_admin_kick_protection.py::test_kick_admin_by_admin
  G:\다른 컴퓨터\내 컴퓨터\google antigravity\intranet-messenger-main\app\__init__.py:21: MonkeyPatchWarning: Monkey-patching ssl after ssl has already been imported may lead to errors, including RecursionError on Python 3.6. It may also silently lead to incorrect behaviour on Python 3.7. Please monkey-patch earlier. See https://github.com/gevent/gevent/issues/1016. Modules that had direct imports (NOT patched): ['anyio.streams.tls (C:\\Python314\\Lib\\site-packages\\anyio\\streams\\tls.py)']. 
    monkey.patch_all()

tests/test_admin_kick_protection.py: 2 warnings
tests/test_admin_protection.py: 4 warnings
tests/test_authorization.py: 3 warnings
tests/test_basic.py: 3 warnings
tests/test_kick_member.py: 4 warnings
tests/test_maintenance.py: 2 warnings
tests/test_polls.py: 3 warnings
tests/test_user_deletion.py: 3 warnings
  C:\Python314\Lib\site-packages\flask_session\filesystem\filesystem.py:75: DeprecationWarning: FileSystemSessionInterface is deprecated and will be removed in a future release. Instead use the CacheLib backend directly.
    warnings.warn(

tests/test_admin_kick_protection.py: 2 warnings
tests/test_admin_protection.py: 4 warnings
tests/test_authorization.py: 3 warnings
tests/test_basic.py: 3 warnings
tests/test_kick_member.py: 4 warnings
tests/test_maintenance.py: 2 warnings
tests/test_polls.py: 3 warnings
tests/test_user_deletion.py: 3 warnings
  C:\Python314\Lib\site-packages\flask_session\base.py:172: DeprecationWarning: The 'use_signer' option is deprecated and will be removed in the next minor release. Please update your configuration accordingly or open an issue.
    warnings.warn(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
=========================== short test summary info ===========================
FAILED tests/test_user_deletion.py::test_user_deletion_cleanup - assert 400 =...
================= 1 failed, 23 passed, 49 warnings in 27.46s ==================
