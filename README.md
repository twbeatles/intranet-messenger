# ğŸ”’ ì‚¬ë‚´ ì›¹ë©”ì‹ ì € v3.6

Flask + Socket.IO + PyQt6 ê¸°ë°˜ì˜ **ì¢…ë‹¨ê°„ ì•”í˜¸í™”(E2E)** ì‚¬ë‚´ ì›¹ ë©”ì‹ ì € ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

## âœ¨ v3.6 ì—…ë°ì´íŠ¸ (2024-12)

### ğŸ¨ UI/UX ê°œì„ 
- ğŸ”” **í† ìŠ¤íŠ¸ ì•Œë¦¼ ê°œì„ **: ìŠ¤íƒí˜• ì•Œë¦¼, ì§„í–‰ë¥  ë°”, ë§ˆìš°ìŠ¤ ì¼ì‹œì •ì§€
- âœ“âœ“ **ì½ìŒ í‘œì‹œ ê°•í™”**: ë”ë¸” ì²´í¬ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼ ì¶”ê°€
- ğŸ”¢ **ìŠ¤í¬ë¡¤ ë°°ì§€**: ìƒˆ ë©”ì‹œì§€ ê°œìˆ˜ í‘œì‹œ
- ğŸ¬ **ëª¨ë‹¬ ì• ë‹ˆë©”ì´ì…˜**: ë¶€ë“œëŸ¬ìš´ ì—´ê¸°/ë‹«ê¸° íš¨ê³¼
- ğŸ’¬ **ë¹ˆ ìƒíƒœ ê°œì„ **: í”Œë¡œíŒ… ì• ë‹ˆë©”ì´ì…˜, ì•¡ì…˜ ë²„íŠ¼
- ğŸ’€ **ìŠ¤ì¼ˆë ˆí†¤ UI**: ë¡œë”© ì¤‘ ìŠ¤ì¼ˆë ˆí†¤ í‘œì‹œ

### âŒ¨ï¸ í‚¤ë³´ë“œ ë‹¨ì¶•í‚¤
| ë‹¨ì¶•í‚¤ | ê¸°ëŠ¥ |
|--------|------|
| `Ctrl+K` | ëŒ€í™” ê²€ìƒ‰ |
| `Ctrl+N` | ìƒˆ ëŒ€í™” ì‹œì‘ |
| `Ctrl+F` | ëŒ€í™” ë‚´ ê²€ìƒ‰ |
| `ESC` | ëª¨ë‹¬/ê²€ìƒ‰ ë‹«ê¸° |

### ğŸ”§ ì•ˆì •ì„± ê°œì„ 
- ğŸ§¹ **ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€**: setInterval ê´€ë¦¬ ì‹œìŠ¤í…œ
- ğŸ“¡ **ì˜¤í”„ë¼ì¸ ì§€ì›**: ì˜¤í”„ë¼ì¸ ë°°ë„ˆ, ìë™ ì¬ì—°ê²°
- â™¿ **ì ‘ê·¼ì„± ê°œì„ **: í¬ì»¤ìŠ¤ í‘œì‹œ, ARIA ë ˆì´ë¸”, ëª¨ì…˜ê°ì†Œ ëª¨ë“œ

### ğŸ› ë²„ê·¸ ìˆ˜ì •
- nickname null check 5ê°œ ìˆ˜ì • (TypeError ë°©ì§€)
- ê²½ë¡œ íŠ¸ë˜ë²„ì„¤ ë³´ì•ˆ ì·¨ì•½ì  ìˆ˜ì •
- bare except ì˜ˆì™¸ ì²˜ë¦¬ ê°œì„ 

---

## âœ¨ v3.5 ì—…ë°ì´íŠ¸

- ğŸ¨ **ëœë¤ í”„ë¡œí•„ ìƒ‰ìƒ**: ìœ ì €ë§ˆë‹¤ ê³ ìœ í•œ ì•„ë°”íƒ€ ìƒ‰ìƒ (12ê°€ì§€ íŒ”ë ˆíŠ¸)
- ğŸ”„ **ìƒˆë¡œê³ ì¹¨ ë¡œê·¸ì¸ ìœ ì§€**: /api/me ì„¸ì…˜ ì²´í¬ë¡œ ìë™ ë¡œê·¸ì¸ ë³µì›
- â†©ï¸ **ë‹µì¥ í•˜ì´ë¼ì´íŠ¸ ê°œì„ **: ìƒˆ ë©”ì‹œì§€ì—ë„ ì¦‰ì‹œ í•˜ì´ë¼ì´íŠ¸ ì ìš©
- âœï¸ **ë©”ì‹œì§€ ìˆ˜ì •/ì‚­ì œ**: ìì‹ ì˜ ë©”ì‹œì§€ ìˆ˜ì • ë° ì‚­ì œ ê¸°ëŠ¥
- ğŸ“ **ì½ì§€ ì•Šì€ ë©”ì‹œì§€ í‘œì‹œ**: "ì—¬ê¸°ì„œë¶€í„° ì½ì§€ ì•ŠìŒ" êµ¬ë¶„ì„ 
- â¬‡ï¸ **ìŠ¤í¬ë¡¤ í•˜ë‹¨ ë²„íŠ¼**: ì±„íŒ…ì°½ í•˜ë‹¨ìœ¼ë¡œ ë¹ ë¥´ê²Œ ì´ë™

## âœ¨ v3.4 ì—…ë°ì´íŠ¸

- ğŸ¨ **í…Œë§ˆ ì»¤ìŠ¤í„°ë§ˆì´ì§•**: 10ê°€ì§€ ìƒ‰ìƒ í”„ë¦¬ì…‹ (Emerald, Ocean, Purple ë“±)
- ğŸŒ— **ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ**: ì‹œìŠ¤í…œ ì„¤ì • ì—°ë™ + ìˆ˜ë™ ì„ íƒ
- ğŸ–¼ **ì±„íŒ… ë°°ê²½**: ë„íŠ¸, ê·¸ë¦¬ë“œ, ê·¸ë¼ë°ì´ì…˜ íŒ¨í„´
- ğŸ‘¤ **í”„ë¡œí•„ ê´€ë¦¬**: ë‹‰ë„¤ì„ ë³€ê²½, í”„ë¡œí•„ ì‚¬ì§„, ìƒíƒœ ë©”ì‹œì§€

---

## ğŸ”’ ì‚¬ë‚´ë§/íì‡„ë§ í˜¸í™˜ì„±

ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ **ì™¸ë¶€ ì¸í„°ë„· ì—°ê²° ì—†ì´** ì™„ì „íˆ ë…ë¦½ì ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤:

- âœ… Socket.IO ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œì»¬ í¬í•¨ (`/static/js/socket.io.min.js`)
- âœ… CryptoJS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œì»¬ í¬í•¨ (`/static/js/crypto-js.min.js`)
- âœ… ì‹œìŠ¤í…œ í°íŠ¸ë§Œ ì‚¬ìš© (ì™¸ë¶€ ì›¹í°íŠ¸ ì—†ìŒ)
- âœ… ì™¸ë¶€ CDN, API í˜¸ì¶œ ì—†ìŒ
- âœ… SQLite ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤

## ğŸŒ ë¸Œë¼ìš°ì € í˜¸í™˜ì„±

| ë¸Œë¼ìš°ì € | ìµœì†Œ ë²„ì „ | ê¶Œì¥ ë²„ì „ |
|---------|----------|----------|
| Chrome | 55+ | ìµœì‹  |
| Edge | 79+ | ìµœì‹  |
| Firefox | 52+ | ìµœì‹  |
| Safari | 11+ | ìµœì‹  |

> âš ï¸ **Internet ExplorerëŠ” ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

---

## ì£¼ìš” ê¸°ëŠ¥

### ë³´ì•ˆ
- **ì¢…ë‹¨ê°„ ì•”í˜¸í™” (E2E)** - AES-256ìœ¼ë¡œ ì„œë²„ ê´€ë¦¬ìë„ ë©”ì‹œì§€ í™•ì¸ ë¶ˆê°€
- **HTTPS** - SSL/TLS ì•”í˜¸í™” í†µì‹ 
- **ê²½ë¡œ íŠ¸ë˜ë²„ì„¤ ë°©ì§€** - íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ ê°•í™”
- **ë¹„ë°€ë²ˆí˜¸ ì†”íŠ¸ í•´ì‹±**

### ì±„íŒ…
- **1:1 / ê·¸ë£¹ ëŒ€í™”**
- **ì½ìŒ í™•ì¸** (ë”ë¸” ì²´í¬ í‘œì‹œ)
- **ëŒ€í™” ë‚´ ê²€ìƒ‰** (Ctrl+F)
- **íŒŒì¼/ì´ë¯¸ì§€ ì²¨ë¶€** (ë“œë˜ê·¸ì•¤ë“œë¡­)
- **ì´ëª¨ì§€**
- **@ë©˜ì…˜**
- **ë‹µì¥**

### ì•Œë¦¼
- **ë°ìŠ¤í¬í†± ì•Œë¦¼** - ìƒˆ ë©”ì‹œì§€ ìˆ˜ì‹  ì‹œ ë¸Œë¼ìš°ì € ì•Œë¦¼
- **í† ìŠ¤íŠ¸ ì•Œë¦¼** - ìŠ¤íƒí˜•, ì§„í–‰ë¥  í‘œì‹œ
- **ì˜¤í”„ë¼ì¸ ìºì‹±** - ì„œë²„ ì¬ì‹œì‘ ì‹œì—ë„ ìµœê·¼ ë©”ì‹œì§€ ìœ ì§€

### ì„œë²„ ê´€ë¦¬ (PyQt6 GUI)
- **ì‹œìŠ¤í…œ íŠ¸ë ˆì´**
- **HTTPS í™œì„±í™”/ë¹„í™œì„±í™”**
- **SSL ì¸ì¦ì„œ ìƒì„±**
- **ì‹¤ì‹œê°„ í†µê³„**

---

## ğŸ“¦ ì„¤ì¹˜

### ê¸°ë³¸ ì„¤ì¹˜
```powershell
pip install flask flask-socketio simple-websocket pycryptodome pyqt6 cryptography
```

### ê³ ì„±ëŠ¥ ë™ì‹œ ì ‘ì† ì§€ì› (ê¶Œì¥)
```powershell
pip install flask flask-socketio pycryptodome pyqt6 cryptography gevent gevent-websocket
```

---

## ğŸš€ ì‹¤í–‰

### GUI ëª¨ë“œ (ê¶Œì¥)
```powershell
python server.py
```

### CLI ëª¨ë“œ
```powershell
python server.py --cli
```

---

## ğŸ—‚ï¸ íŒŒì¼ êµ¬ì¡°

```
ì‚¬ë‚´ ë©”ì‹ ì €/
â”œâ”€â”€ server.py                # ë©”ì¸ ì§„ì…ì 
â”œâ”€â”€ config.py                # ì„¤ì • íŒŒì¼
â”œâ”€â”€ messenger.spec           # PyInstaller íŒ¨í‚¤ì§• ìŠ¤í™
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py          # Flask ì•± íŒ©í† ë¦¬
â”‚   â”œâ”€â”€ routes.py            # HTTP ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ sockets.py           # Socket.IO ì´ë²¤íŠ¸
â”‚   â”œâ”€â”€ models.py            # ë°ì´í„°ë² ì´ìŠ¤
â”‚   â””â”€â”€ utils.py             # ìœ í‹¸ë¦¬í‹°
â”œâ”€â”€ gui/
â”‚   â””â”€â”€ server_window.py     # PyQt6 GUI
â”œâ”€â”€ certs/
â”‚   â”œâ”€â”€ generate_cert.py     # ì¸ì¦ì„œ ìƒì„±
â”‚   â”œâ”€â”€ cert.pem             # SSL ì¸ì¦ì„œ
â”‚   â””â”€â”€ key.pem              # ê°œì¸í‚¤
â”œâ”€â”€ static/
â”‚   â”œâ”€â”€ css/style.css        # ìŠ¤íƒ€ì¼ì‹œíŠ¸ (~2900ì¤„)
â”‚   â””â”€â”€ js/
â”‚       â”œâ”€â”€ app.js           # ë©”ì¸ ì•± ë¡œì§ (~2700ì¤„)
â”‚       â”œâ”€â”€ notification.js  # ì•Œë¦¼ ëª¨ë“ˆ
â”‚       â”œâ”€â”€ storage.js       # ë¡œì»¬ ì €ì¥ì†Œ
â”‚       â”œâ”€â”€ socket.io.min.js # Socket.IO (ë¡œì»¬)
â”‚       â””â”€â”€ crypto-js.min.js # CryptoJS (ë¡œì»¬)
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html           # HTML í…œí”Œë¦¿
â”œâ”€â”€ uploads/                 # íŒŒì¼ ì—…ë¡œë“œ
â””â”€â”€ messenger.db             # SQLite DB
```

---

## ğŸ“¦ PyInstaller íŒ¨í‚¤ì§•

### spec íŒŒì¼ ì‚¬ìš© (ê¶Œì¥)
```powershell
cd "d:\google antigravity\ì‚¬ë‚´ ë©”ì‹ ì €"
pyinstaller messenger.spec
```

### auto-py-to-exe ì‚¬ìš©
1. `auto-py-to-exe` ì‹¤í–‰
2. Script: `server.py` ì„ íƒ
3. One Directory ì„ íƒ
4. Window Based ì„ íƒ
5. Additional Filesì— í´ë” ì¶”ê°€: `static/`, `templates/`, `app/`, `gui/`, `certs/`, `config.py`

### ê²°ê³¼ë¬¼
```
dist/ì‚¬ë‚´ë©”ì‹ ì €v3.6/
â”œâ”€â”€ ì‚¬ë‚´ë©”ì‹ ì €v3.6.exe
â”œâ”€â”€ static/
â”œâ”€â”€ templates/
â”œâ”€â”€ app/
â”œâ”€â”€ gui/
â”œâ”€â”€ certs/
â””â”€â”€ config.py
```

---

## âš™ï¸ ì„¤ì • íŒŒì¼ (config.py)

```python
ASYNC_MODE = 'gevent'       # 'gevent' (ê¶Œì¥), 'threading'
PING_TIMEOUT = 120          # ì—°ê²° íƒ€ì„ì•„ì›ƒ (ì´ˆ)
PING_INTERVAL = 25          # í•‘ ê°„ê²© (ì´ˆ)
USE_HTTPS = False           # HTTPS í™œì„±í™”
DEFAULT_PORT = 5000         # ì„œë²„ í¬íŠ¸
```

---

## ğŸ“Š ì„±ëŠ¥ ë¹„êµ

| ë¹„ë™ê¸° ëª¨ë“œ | ë™ì‹œ ì ‘ì† | ì„¤ì¹˜ í•„ìš” |
|------------|----------|----------|
| `gevent` (ê¶Œì¥) | ìˆ˜ë°±~ìˆ˜ì²œ ëª… | `pip install gevent gevent-websocket` |
| `threading` | 5~10ëª… | ê¸°ë³¸ í¬í•¨ |

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

- ì²« ì‹¤í–‰ ì‹œ `messenger.db`, `uploads/`, `server.log` ìë™ ìƒì„±
- HTTPS ì‚¬ìš© ì‹œ SSL ì¸ì¦ì„œ ìë™ ìƒì„± (cryptography í•„ìš”)
- **ì‚¬ë‚´ë§ì—ì„œ ì™¸ë¶€ ì¸í„°ë„· ì—†ì´ ì™„ì „íˆ ë…ë¦½ ë™ì‘**
- **gevent ì„¤ì¹˜ ê¶Œì¥**: ìˆ˜ì‹­ ëª… ì´ìƒ ë™ì‹œ ì ‘ì† ì‹œ í•„ìˆ˜
